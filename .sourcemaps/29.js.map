{"version":3,"sources":["../../src/pages/tabs/admin/admin.ts","../../src/pages/tabs/admin/admin.module.ts"],"names":[],"mappings":"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","file":"29.js","sourcesContent":["import { Component } from '@angular/core';\r\nimport { NavController, AlertController, NavParams, LoadingController, ModalController, ToastController, ViewController, IonicPage } from 'ionic-angular';\r\nimport { PouchdbProvider } from '../../../providers/pouchdb-provider';\r\n//import { OpPage } from '../../op/op';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { global } from '../../../global-variables/variable';\r\nimport { Storage } from '@ionic/storage'\r\n\r\n/*\r\n  Generated class for the Admin page.\r\n\r\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\r\n  Ionic pages and navigation.\r\n*/\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-admin',\r\n  templateUrl: 'admin.html'\r\n})\r\nexport class AdminPage {\r\n  profiles:any=[];\r\n  pendingProfiles:any=[];\r\n  unions:any = [];\r\n  ops:any = [];\r\n  membres:any = [];\r\n  user: any = global.info_user;\r\n  global:any = global;\r\n  //toast: any;\r\n\r\n  constructor(public translate: TranslateService, public modalCtl: ModalController, public loadtingCtl: LoadingController, public viewCtl: ViewController, public storage: Storage, public alertCtl: AlertController, public navCtrl: NavController, public toastCtl: ToastController, public navParams: NavParams,  private database: PouchdbProvider) {\r\n    this.translate.setDefaultLang(global.langue);\r\n  }\r\n\r\n  dismiss(){\r\n    this.viewCtl.dismiss();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.translate.use(global.langue);\r\n    this.getProfiles();\r\n\r\n    //union \r\n    this.database.getPlageDocs('fuma:union','fuma:union:\\uffff').then((unionsA) => {\r\n         this.database.getPlageDocs('koboSubmission_fuma-union','koboSubmission_fuma-union\\uffff').then((unionsK) => {\r\n          this.unions = unionsA.concat(unionsK);\r\n         }, err => console.log(err));  \r\n    }, err => console.log(err));   \r\n\r\n    //op\r\n    let A = [];\r\n    let opss: any = [];\r\n    this.database.getPlageDocs('fuma:op','fuma:op:\\uffff').then((opsA) => {\r\n      if(opsA){\r\n          //opss = ops;\r\n          opsA.forEach((o, index) => {\r\n            if(!o.data.op/* || o.data.op !== ''*/){\r\n              A.push(o)\r\n            }\r\n          })\r\n        }\r\n      let k = [];\r\n      this.database.getPlageDocs('koboSubmission_fuma-op','koboSubmission_fuma-op\\uffff').then((opsK) => {\r\n        opsK.forEach((o, i) => {\r\n            if(!o.data.op){\r\n             k.push(o) ;\r\n             //this.allOPs.push(o);\r\n            }\r\n          })\r\n\r\n        this.ops = A.concat(k);\r\n      }, err => console.log(err));\r\n    }, err => console.log(err));\r\n\r\n     //membres\r\n    this.database.getPlageDocs('fuma:op:membre','fuma:op:membre:\\uffff').then((mbrA) => {\r\n\r\n      this.database.getPlageDocs('koboSubmission_fuma-op-membre','koboSubmission_fuma-op-membre\\uffff').then((mbrK) => {\r\n        this.membres = mbrA.concat(mbrK);\r\n      }, err => console.log(err));\r\n    }, err => console.log(err));\r\n\r\n  }\r\n\r\n  validate_doc_update(){\r\n\r\n     let doc = {\r\n\r\n      _id: '_design/validate_doc_update',\r\n\r\n      /*\r\n      //Everybody can read, only some can write (everything)\r\n      function (newDoc, oldDoc, userCtx) {\r\n        var role = \"blogger\";\r\n        if (userCtx.roles.indexOf(\"_admin\") === -1 && userCtx.roles.indexOf(role) === -1) {\r\n          throw({forbidden : \"Only users with role \" + role + \" or an admin can modify this database.\"});\r\n        }\r\n      }*/\r\n\r\n\r\n      //Everybody can read, only some can write (some things)\r\n      function(newDoc, oldDoc, userCtx) {\r\n        if (userCtx.roles.indexOf('_admin') === -1 && newDoc.user !== userCtx.name) {\r\n          throw({forbidden : \"doc.user must be the same as your username.\"});\r\n        }\r\n      }\r\n     }\r\n  }\r\n\r\n  ajouterDesignDoc(){\r\n    let filter_doc: any = {\r\n      //Prend en parametre un tableau contenant la liste des code des union\r\n          _id: '_design/filtrerDoc',\r\n          filters: {\r\n            myfilter: function (doc, req) {\r\n              var public_doc_type = ['pays', 'region', 'commune', 'departement', 'village', 'traitement', 'type-sole', 'protocole', 'variete', 'culture'];\r\n              var doc_pour_union_type = ['union', 'op', 'membre_op', 'champs', 'essai', 'typologie'];\r\n              /*//tous le monde a acces au filtre\r\n              if(doc._id == '_design/filtrerDoc'/* || doc._deleted*****){\r\n                return 1;\r\n              }else*/\r\n              //seul l'admin à accès à la totalité des inforamtions de la base de donnée\r\n              if(doc._id == '_design/filtrerDoc' || (req.query.roles && req.query.roles.length && (req.query.roles.indexOf('admin') != -1) || (req.query.roles.indexOf('_admin') != -1))){\r\n                return 1\r\n              }else{\r\n\r\n                //localité et photos\r\n                if(doc.type){\r\n                  //acceder aux localités\r\n                  if(public_doc_type.indexOf(doc.type) !== -1){\r\n                    return 1;\r\n                  }\r\n\r\n                  //acceder aux photo des membres des unions autorisé\r\n                  else if(doc.type == 'photo'){\r\n                    if(req.query.codes_unions && req.query.codes_unions.length > 0 && doc.code_union){\r\n                      return req.query.codes_unions.indexOf(doc.code_union) !== -1;\r\n                    }/*else if(req.query.codes_unions && req.query.codes_unions.length > 0 && (!doc.code_union || doc.code_union == '')){\r\n                      //pour les documement qu nom pas de code_union, les retoruner\r\n                      return 1;\r\n                    }*/\r\n                  }else{\r\n                    //return 'doc type probleme => '+doc._id\r\n                    throw({forbidden: 'doc type probleme => '+doc._id})\r\n                  }\r\n                }\r\n                \r\n                \r\n                //traitements, unions, ops, membres, champs et essais\r\n                else if(doc.data && doc.data.type){\r\n                  //acceder aux traitements, type de sole et variétés\r\n                  if(public_doc_type.indexOf(doc.data.type) !== -1){\r\n                    return 1;\r\n                  }\r\n\r\n                  //acceder aux unions, ops, membres, champs, essais et typologie autorisés à l'utilisateur à ltravers le code union\r\n                  else if(doc_pour_union_type.indexOf(doc.data.type) != -1){\r\n                      if(req.query.codes_unions && req.query.codes_unions.length > 0 && doc.data.code_union){\r\n                        return req.query.codes_unions.indexOf(doc.data.code_union) !== -1;\r\n                      }/*else if(req.query.codes_unions && req.query.codes_unions.length > 0 && (!doc.data.code_union || doc.data.code_union == '')){\r\n                      //pour les documement qu nom pas de code_union, les retoruner\r\n                      return 1;\r\n                      }*/\r\n                  }else{\r\n                    throw({forbidden: 'doc.data ou doc.data.type => '+doc._id})\r\n                    //return 'doc.data'\r\n                  }\r\n                }else{\r\n                  //throw({forbidden: 'erreur incomprise => '+doc._id})\r\n                }\r\n                \r\n              }\r\n            }.toString()\r\n          }\r\n        }\r\n\r\n        global.remoteSaved.get('_design/filtrerDoc').then((doc) => {\r\n          if(doc && doc._id){\r\n            //doc existe\r\n            //this.database.remote(doc)\r\n            filter_doc._rev = doc._rev;\r\n            global.remoteSaved.put(filter_doc).then((res) => alert('Filter mise à jour avec succes')).catch((err) => alert('erreur mise à jour du filter du filter '+err));\r\n          }else{\r\n            //créer le filtre de base\r\n            //this.ajouterDesignDoc();\r\n            global.remoteSaved.put(filter_doc).then((res) => alert('Filter ajouté avec succes')).catch((err) => alert('erreur ajout du filter '+err));\r\n          }\r\n          \r\n        }).catch((err) => {\r\n          //alert(err)\r\n          //this.ajouterDesignDoc();\r\n          global.remoteSaved.put(filter_doc).then((res) => alert('Filter ajouté avec succes')).catch((err) => alert('erreur ajout du filter '+err));\r\n        });\r\n    \r\n\r\n        //global.remoteSaved.put(filter_doc).catch((err) => alert('erreur vers server '+err));\r\n        //this.database.put(doc, doc._id).catch((err) => alert('erreur vers local '+err));\r\n  }\r\n\r\n  ajouterLoalDesignDoc(){\r\n    let filter_doc: any = {\r\n      //Prend en parametre un tableau contenant la liste des code des union\r\n          _id: '_design/filtrerDoc',\r\n          filters: {\r\n            myfilter: function (doc, req) {\r\n              var public_doc_type = ['pays', 'region', 'commune', 'departement', 'village', 'traitement', 'type-sole', 'protocole', 'variete', 'culture'];\r\n              var doc_pour_union_type = ['union', 'op', 'membre_op', 'champs', 'essai', 'typologie'];\r\n              /*//tous le monde a acces au filtre\r\n              if(doc._id == '_design/filtrerDoc'/* || doc._deleted*****){\r\n                return 1;\r\n              }else*/\r\n              //seul l'admin à accès à la totalité des inforamtions de la base de donnée\r\n              if(doc._id == '_design/filtrerDoc' || (req.query.roles && req.query.roles.length && (req.query.roles.indexOf('admin') != -1) || (req.query.roles.indexOf('_admin') != -1))){\r\n                return 1\r\n              }else{\r\n\r\n                //localité et photos\r\n                if(doc.type && doc.type != ''){\r\n                  //acceder aux localités\r\n                  if(public_doc_type.indexOf(doc.type) !== -1){\r\n                    return 1;\r\n                  }\r\n\r\n                  //acceder aux photo des membres des unions autorisé\r\n                  else if(doc.type == 'photo'){\r\n                    if(req.query.codes_unions && req.query.codes_unions.length > 0 && doc.code_union){\r\n                      return req.query.codes_unions.indexOf(doc.code_union) !== -1;\r\n                    }/*else if(req.query.codes_unions && req.query.codes_unions.length > 0 && (!doc.code_union || doc.code_union == '')){\r\n                      //pour les documement qu nom pas de code_union, les retoruner\r\n                      return 1;\r\n                    }*/\r\n                  }else{\r\n                    //return 'doc type probleme => '+doc._id\r\n                    throw({forbidden: 'doc type probleme => '+doc._id})\r\n                  }\r\n                }\r\n                \r\n                \r\n                //traitements, unions, ops, membres, champs et essais\r\n                else if(doc.data && doc.data.type){\r\n                  //acceder aux traitements, type de sole et variétés\r\n                  if(public_doc_type.indexOf(doc.data.type) !== -1){\r\n                    return 1;\r\n                  }\r\n\r\n                  //acceder aux unions, ops, membres, champs, essais et typologie autorisés à l'utilisateur à ltravers le code union\r\n                  else if(doc_pour_union_type.indexOf(doc.data.type) != -1){\r\n                      if(req.query.codes_unions && req.query.codes_unions.length > 0 && doc.data.code_union){\r\n                        return req.query.codes_unions.indexOf(doc.data.code_union) !== -1;\r\n                      }/*else if(req.query.codes_unions && req.query.codes_unions.length > 0 && (!doc.data.code_union || doc.data.code_union == '')){\r\n                      //pour les documement qu nom pas de code_union, les retoruner\r\n                      return 1;\r\n                      }*/\r\n                  }else{\r\n                    throw({forbidden: 'doc.data ou doc.data.type => '+doc._id})\r\n                    //return 'doc.data'\r\n                  }\r\n                }else{\r\n                  //throw({forbidden: 'erreur incomprise => '+doc._id})\r\n                }\r\n                \r\n              }\r\n            }.toString()\r\n          }\r\n        }\r\n\r\n        this.database.getDocById('_design/filtrerDoc').then((doc) => {\r\n          if(doc && doc._id){\r\n            //doc existe\r\n            //this.database.remote(doc)\r\n            filter_doc._id = '_design/filtrerDoc';\r\n            filter_doc._rev = doc._rev;\r\n            this.database.createSimpleDocReturn(filter_doc).then((res) => alert('Filter mise à jour avec succes')).catch((err) => alert('erreur mise à jour du filter du filter => '+err));\r\n          }else{\r\n            //créer le filtre de base\r\n            //this.ajouterDesignDoc();\r\n            filter_doc._id = '_design/filtrerDoc';\r\n            this.database.createSimpleDocReturn(filter_doc).then((res) => alert('Filter ajouté avec succes')).catch((err) => alert('erreur ajout du filter => '+err));\r\n          }\r\n          \r\n        }).catch((err) => {\r\n          //alert(err)\r\n          //this.ajouterDesignDoc();\r\n          filter_doc._id = '_design/filtrerDoc';\r\n          this.database.createSimpleDocReturn(filter_doc).then((res) => alert('Filter ajouté avec succes')).catch((err) => alert('erreur ajout du filter '+err));\r\n        });\r\n    \r\n\r\n        //global.remoteSaved.put(filter_doc).catch((err) => alert('erreur vers server '+err));\r\n        //this.database.put(doc, doc._id).catch((err) => alert('erreur vers local '+err));\r\n  }\r\n\r\n  existeFilter(){\r\n    if(global.info_user && global.info_user.roles && (global.info_user.roles.indexOf('admin') || global.info_user.roles.indexOf('_admin'))){\r\n      return true\r\n    }else{\r\n      this.database.getDocById('_design/filtrerDoc').then((doc) => {\r\n        if(doc && doc._id){\r\n          return true;\r\n        }\r\n        return false\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  removeAncienFilter(){\r\n    this.database.getDocById('_design/filtrerDocByCodesUnions').then((doc) => {\r\n      if(doc){\r\n        //doc existe\r\n        //this.database.remote(doc)\r\n        this.database.remove('_design/filtrerDocByCodesUnions').then((res)=> alert('Filter trouvé et supprimer')).catch((err) => alert('erreur suppression du filter => '+err));\r\n      }else{\r\n        //créer le filtre de base\r\n        //this.ajouterDesignDoc();\r\n        alert('Filter non trouvé')\r\n      }\r\n      \r\n    }).catch((err) => {\r\n      //alert(err)\r\n      //this.ajouterDesignDoc();\r\n      alert('Filter non trouvé => '+err)\r\n    });\r\n  }\r\n\r\n  removeNouveauFilter(){\r\n    this.database.getDocById('_design/filtrerDoc').then((doc) => {\r\n      if(doc){\r\n        //doc existe\r\n        //this.database.remote(doc)\r\n        this.database.remove('_design/filtrerDoc').then((res)=> alert('Filter trouvé et supprimer')).catch((err) => alert('erreur suppression du filter => '+err));\r\n      }else{\r\n        //créer le filtre de base\r\n        //this.ajouterDesignDoc();\r\n        alert('Filter non trouvé')\r\n      }\r\n      \r\n    }).catch((err) => {\r\n      //alert(err)\r\n      //this.ajouterDesignDoc();\r\n      alert('Filter non trouvé => '+err)\r\n    });\r\n  }\r\n\r\n  compacteRemoteDB(){\r\n    this.database.compacteRemoteDB();\r\n  }\r\n\r\n  compacteLoacalDB(){\r\n    this.database.compacteLocalDB();\r\n  }\r\n\r\n  ajouterCodeunionDansPhoto(membres){\r\n    let model = this.loadtingCtl.create({\r\n      content: 'Appliction des modifiactions en cours...'\r\n    });\r\n\r\n    model.present();\r\n    //this.database.getPlageDocs('fuma:photo:membre', 'fuma:photo:membre:\\uffff').then((ats) => {\r\n      membres.forEach((membre) => {\r\n        if(membre.data.photoID){\r\n          this.database.getDocById(membre.data.photoID).then((at) => {\r\n            if(at){\r\n              at.type = 'photo'\r\n              at.code_union = membre.data.code_union;\r\n              this.database.put(at, at._id);\r\n            }\r\n          }) ;\r\n        }\r\n        \r\n        model.dismiss();      \r\n      });\r\n      //model.dismiss();\r\n   // });\r\n\r\n\r\n  }\r\n\r\n\r\n  ramenerMembreDansLaBonneOP(membres){\r\n    \r\n    let model = this.loadtingCtl.create({\r\n      content: 'Appliction des modifiactions en cours...'\r\n    });\r\n\r\n    model.present();\r\n    membres.forEach((membre) => {\r\n      let code_op = membre._id.toString().substring(membre._id.toString().indexOf('-') +1, membre._id.toString().indexOf(' '))\r\n      //alert(code_op+' -- '+membre.data.op_code)\r\n      \r\n      if(code_op !== membre.data.op_code){\r\n        \r\n        let id = 'fuma:op:membre:' +membre.data.op_code + ':' + membre.data.matricule_Membre;\r\n        alert(code_op+' -- '+membre.data.op_code+'id='+membre._id+' new='+id)\r\n        //sauvegarder les ancienne donnees\r\n        let data: any = membre.data;\r\n        //supprimer l'ancien membre\r\n        this.database.deleteDoc(membre);\r\n        //restaurer les anciennes donnees\r\n        membre = {};\r\n        membre._id = id;\r\n        membre.data = data;\r\n        this.database.updateDoc(membre)\r\n      }\r\n    });\r\n\r\n    model.dismiss();\r\n  }\r\n\r\n\r\n  ajouterCodeUnionPourMembres(ops, membres){\r\n    let model = this.loadtingCtl.create({\r\n      content: 'Appliction des modifiactions en cours...'\r\n    });\r\n\r\n    model.present();\r\n     ops.forEach((op, indexO) => {\r\n          //compter les OP\r\n      membres.forEach((membre) => {\r\n        if(membre.data.op === op.data.num_aggrement){\r\n            membre.data.op_code = op.data.code_OP;\r\n            membre.data.op_nom = op.data.nom_OP;\r\n            membre.data.code_union = op.data.code_union;\r\n            this.database.updateDoc(membre);\r\n          }\r\n      });\r\n    });\r\n\r\n    model.dismiss();\r\n  }\r\n\r\n  ajouterCodeUnionPourOps(unions, ops){\r\n    let model = this.loadtingCtl.create({\r\n      content: 'Appliction des modifiactions en cours...'\r\n    });\r\n    model.present();\r\n\r\n     unions.forEach((union) => {\r\n          //compter les OP\r\n      ops.forEach((op) => {\r\n        if(union.data.num_aggrement === op.data.union){\r\n          op.data.code_union = union.data.code_union;\r\n          this.database.updateDoc(op);\r\n        }\r\n      });\r\n    });\r\n\r\n    model.dismiss();\r\n  }\r\n\r\n  ajouterCodeUnionPourChamps(membres){\r\n    let model = this.loadtingCtl.create({\r\n      content: 'Appliction des modifiactions en cours...'\r\n    });\r\n\r\n    model.present();\r\n    let champs: any = [];\r\n    this.database.getPlageDocsRapide('fuma:champs','fuma:champs:\\uffff').then((c) => {\r\n      if(c){\r\n        champs = c;\r\n        membres.forEach((membre, indexO) => {\r\n          //compter les OP\r\n          champs.forEach((ch) => {\r\n            if(membre.data.matricule_Membre === ch.doc.data.matricule_producteur){\r\n                ch.doc.data.code_union = membre.data.code_union;\r\n                this.database.updateDoc(ch.doc);\r\n              }\r\n          });\r\n        });\r\n\r\n        model.dismiss();\r\n      }else{\r\n        model.dismiss();\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n    ajouterCodeUnionPourEssais(membres){\r\n      let model = this.loadtingCtl.create({\r\n      content: 'Appliction des modifiactions en cours...'\r\n    });\r\n\r\n    model.present();\r\n    let essais: any = [];\r\n    this.database.getPlageDocsRapide('fuma:essai','fuma:essai:\\uffff').then((e) => {\r\n      if(e){\r\n        essais = e;\r\n        membres.forEach((membre, indexO) => {\r\n          //compter les OP\r\n          essais.forEach((es) => {\r\n            if(membre.data.matricule_Membre === es.doc.data.matricule_producteur){\r\n                es.doc.data.code_union = membre.data.code_union;\r\n                this.database.updateDoc(es.doc);\r\n              }\r\n          });\r\n        });\r\n\r\n        model.dismiss()\r\n      }else{\r\n        model.dismiss()\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n  gestionPays(){\r\n    let model = this.modalCtl.create('AjouterPaysPage', {'liste': true});\r\n    model.present();\r\n  }\r\n\r\n  gestionRegions(){\r\n    let model = this.modalCtl.create('AjouterRegionPage', {'liste': true});\r\n    model.present();\r\n  }\r\n\r\n  gestionDepartements(){\r\n    let model = this.modalCtl.create('AjouterDepartementPage', {'liste': true});\r\n    model.present();\r\n  }\r\n\r\n  gestionCommunes(){\r\n    let model = this.modalCtl.create('AjouterCommunePage', {'liste': true});\r\n    model.present();\r\n  }\r\n\r\n  gestionVillages(){\r\n    let model = this.modalCtl.create('AjouterVillagePage', {'liste': true});\r\n    model.present();\r\n  }\r\n\r\n\r\n  culture(){\r\n    this.navCtrl.push('CulturePage')\r\n  }\r\n  variete(){\r\n    this.navCtrl.push('VarietePage')\r\n  }\r\n\r\n  fusionnerEssais(){\r\n    let loading = this.loadtingCtl.create({\r\n      content: 'Application des changeme,ts sur les essais en cours...'\r\n    });\r\n    loading.present();\r\n\r\n    let tous_essais: any = [];\r\n    let tous_essais2: any = [];\r\n    //let tous_membres: any = [];\r\n    let essais_membre: any = [];\r\n    //let nb_essais_membres: any;\r\n    //let nbm: any = 0;\r\n    let essai1: any = {};\r\n    let essai2: any = {};\r\n    this.database.getPlageDocsRapide('fuma:op:membre', 'fuma:op:membre:\\uffff').then((membres) => {\r\n      if(membres){\r\n        //tous_membres = membres;\r\n        //this.servicePouchdb.getPlageDocsRapide('fuma:essai', 'fuma:essai:\\uffff').then((essais) => {\r\n        //  if(essais){\r\n          //  tous_essais = essais;\r\n            //tous_essais2 = essais;\r\n            //alert('nbm l '+membres.length)\r\n            //alert('nbe l '+essais.length)\r\n            membres.map((membre) => {\r\n              essais_membre = [];\r\n              //nb_essais_membres = 0;\r\n              this.database.getPlageDocsRapide('fuma:essai:'+membre.doc.data.matricule_Membre, 'fuma:essai:'+membre.doc.data.matricule_Membre+' \\uffff').then((essais_mb) => {\r\n                if(essais_mb){\r\n                  essais_membre = essais_mb;\r\n\r\n                  //if(essais_membre.length){\r\n                  let nb_essais_membres: any = essais_membre.length;\r\n                  //tous_essais = tous_essais2;\r\n                  //}else{\r\n                  //  nb_essais_membres = 0;\r\n                  //}\r\n                  \r\n                  //if(nb_essais_membres > 1){\r\n                    //alert('nb_essais_membres = '+nb_essais_membres)\r\n                    while(nb_essais_membres > 1){\r\n                      essai1 = essais_membre[0].doc;\r\n                      //essai2 = '';\r\n                      essais_membre.splice(0, 1);\r\n                      nb_essais_membres--;\r\n                      \r\n                      if(essai1.data.nom_entree ===  'Boule NPK'){\r\n                        for(let ii = 0; ii < essais_membre.length; ii++) {\r\n                          //alert(essai1.data.nom_entree +' '+ essais_membre[ii].data.nom_entree)\r\n                          if(essais_membre[ii].doc.data.nom_entree ===  'Semis ordinaire '){\r\n                            //alert(essai1.data.nom_entree + '===> '+essais_membre[ii].data.nom_entree);\r\n                            essai2 = essais_membre[ii].doc;\r\n                            \r\n                            essai1.data.NPL_controle = essai2.data.NPL;\r\n                            essai1.data.NPR_controle = essai2.data.NPR;\r\n                            essai1.data.PDE_controle = essai2.data.PDE;\r\n\r\n                            this.database.updateDoc(essai1);\r\n                            this.database.deleteDoc(essai2)\r\n                            essais_membre.splice(ii, 1);\r\n                            nb_essais_membres--;\r\n\r\n                            //essai2 = '';\r\n\r\n                            //ii = essais_membre.length;\r\n                            break;\r\n                          }\r\n                        }\r\n\r\n                      }else if(essai1.data.nom_entree ===  'Boule cendre'){\r\n                        for(let ii = 0; ii < essais_membre.length; ii++) {\r\n                          if(essais_membre[ii].doc.data.nom_entree ===  'Semis ordinaire '){\r\n                           // alert(essai1.data.nom_entree + '===> '+essais_membre[ii].data.nom_entree)\r\n                            essai2 = essais_membre[ii].doc;\r\n                          \r\n                            essai1.data.NPL_controle = essai2.data.NPL;\r\n                            essai1.data.NPR_controle = essai2.data.NPR;\r\n                            essai1.data.PDE_controle = essai2.data.PDE;\r\n\r\n                            this.database.updateDoc(essai1);\r\n                            this.database.deleteDoc(essai2);\r\n\r\n                            essais_membre.splice(ii, 1);\r\n                            nb_essais_membres--;\r\n\r\n                            //essai2 = '';\r\n\r\n                            //ii = essais_membre.length;\r\n                            break;\r\n                          }\r\n                        }\r\n\r\n                      \r\n                      }else if(essai1.data.nom_entree ===  'Semis ordinaire '){\r\n                        for(let ii = 0; ii < essais_membre.length; ii++) {\r\n                          if(essais_membre[ii].doc.data.nom_entree ===  'Boule cendre' || essais_membre[ii].doc.data.nom_entree ===  'Boule NPK'){\r\n                            essai2 = essais_membre[ii].doc;\r\n                            //alert(essai1.data.nom_entree + '===> '+essais_membre[ii].data.nom_entree)\r\n                            \r\n                            essai2.data.NPL_controle = essai1.data.NPL;\r\n                            essai2.data.NPR_controle = essai1.data.NPR;\r\n                            essai2.data.PDE_controle = essai1.data.PDE;\r\n\r\n                            this.database.updateDoc(essai2);\r\n                            this.database.deleteDoc(essai1)\r\n                            essais_membre.splice(ii, 1);\r\n                            nb_essais_membres--;\r\n\r\n\r\n                            //ii = essais_membre.length;\r\n                            break;\r\n                          }\r\n                        }\r\n                      }else if(essai1.data.nom_entree ===  'OGA'){\r\n                        for(let ii = 0; ii < essais_membre.length; ii++) {\r\n                          if(essais_membre[ii].doc.data.nom_entree ===  'SANS OGA'){\r\n                            essai2 = essais_membre[ii].doc;\r\n                            //alert(essai1.data.nom_entree + '===> '+essais_membre[ii].data.nom_entree)\r\n                            \r\n                            essai1.data.NPL_controle = essai2.data.NPL;\r\n                            essai1.data.NPR_controle = essai2.data.NPR;\r\n                            essai1.data.PDE_controle = essai2.data.PDE;\r\n\r\n                            this.database.updateDoc(essai1);\r\n                            this.database.deleteDoc(essai2);\r\n\r\n                            essais_membre.splice(ii, 1);\r\n                            nb_essais_membres--;\r\n\r\n\r\n                            //ii = essais_membre.length;\r\n                            break;\r\n                          }\r\n                        }                  \r\n                      }else if(essai1.data.nom_entree ===  'SANS OGA'){\r\n                        for(let ii = 0; ii < essais_membre.length; ii++) {\r\n                          if(essais_membre[ii].doc.data.nom_entree ===  'OGA'){\r\n                            essai2 = essais_membre[ii].doc;\r\n                            //alert(essai1.data.nom_entree + '===> '+essais_membre[ii].data.nom_entree)\r\n                            essai2.data.NPL_controle = essai1.data.NPL;\r\n                            essai2.data.NPR_controle = essai1.data.NPR;\r\n                            essai2.data.PDE_controle = essai1.data.PDE;\r\n\r\n                            this.database.updateDoc(essai2);\r\n                            this.database.deleteDoc(essai1);\r\n\r\n                            essais_membre.splice(ii, 1);\r\n                            nb_essais_membres--;\r\n\r\n                            //ii = essais_membre.length;\r\n                            break;\r\n                          }\r\n                        }\r\n                      }\r\n                    }\r\n                    }\r\n              });\r\n\r\n              \r\n             /* tous_essais.forEach((e, i) => {\r\n                if(e.doc.data.matricule_producteur === membre.doc.data.matricule_Membre){\r\n                  essais_membre.push(e.doc);\r\n                  tous_essais2.splice(i, 1);\r\n                }\r\n              });*/\r\n             \r\n\r\n                \r\n             // }\r\n            // nbm++;\r\n            });\r\n\r\n\r\n            loading.dismissAll();\r\n\r\n            //alert('nbm '+nbm)\r\n\r\n             let toast = this.toastCtl.create({\r\n                message: 'Changement bien appliqué!',\r\n                position: 'top',\r\n                duration: 3000\r\n              });\r\n\r\n              toast.present();\r\n         // }\r\n      //  });\r\n      }\r\n    });\r\n  }\r\n\r\n  reorganiser_coordonnees(){\r\n\r\n    let loading = this.loadtingCtl.create({\r\n      content: 'Application des changements sur les coordonnées en cours...'\r\n    });\r\n    loading.present();\r\n    this.database.getPlageDocsRapide('fuma:essai', 'fuma:essai:\\uffff').then((essais) => {\r\n      if(essais){\r\n        essais.map((ess) => {\r\n          if(ess.doc.data.longitude && ess.doc.data.longitude !== ''){\r\n            let tmp = ess.doc.data.longitude;\r\n            ess.doc.data.longitude = ess.doc.data.latitude;\r\n            ess.doc.data.latitude = tmp;\r\n            this.database.updateDoc(ess.doc);\r\n\r\n          }\r\n        });\r\n      }\r\n    });\r\n    \r\n    \r\n    this.database.getPlageDocsRapide('fuma:champs', 'fuma:champs:\\uffff').then((champs) => {\r\n      if(champs){\r\n        champs.map((ch) => {\r\n          if(ch.doc.data.longitude && ch.doc.data.longitude !== ''){\r\n            let tmp = ch.doc.data.longitude;\r\n            ch.doc.data.longitude = ch.doc.data.latitude;\r\n            ch.doc.data.latitude = tmp;\r\n            this.database.updateDoc(ch.doc);\r\n          }\r\n\r\n        });\r\n       loading.dismissAll();\r\n       this.affichierMsg('Coordonnées mises à jour') \r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n\r\n    completer_controle_essai(){\r\n\r\n    let loading = this.loadtingCtl.create({\r\n      content: 'Application des changements sur les essais en cours...'\r\n    });\r\n    loading.present();\r\n    this.database.getPlageDocsRapide('fuma:essai', 'fuma:essai:\\uffff').then((essais) => {\r\n      if(essais){\r\n        essais.map((ess) => {\r\n          ess.doc.data.date_semis_controle = ess.doc.data.date_semis;\r\n          ess.doc.data.gestion_controle = ess.doc.data.gestion;\r\n          ess.doc.data.mode_semis_controle = ess.doc.data.mode_semis;\r\n          this.database.updateDoc(ess.doc);\r\n        });\r\n\r\n      loading.dismissAll();\r\n       this.affichierMsg('Essais mis à jour') \r\n      }\r\n    });\r\n        \r\n  }\r\n\r\n\r\n  mise_a_jour_code_union_op(){\r\n\r\n    let loading = this.loadtingCtl.create({\r\n      content: 'Application des changements sur les ops en cours...'\r\n    });\r\n    loading.present();\r\n    this.database.getPlageDocsRapide('fuma:union','fuma:union:\\uffff').then((unions) => {\r\n      if(unions){\r\n        let ops: any = [];\r\n        this.database.getPlageDocsRapide('fuma:op','fuma:op:\\uffff').then((opsA) => {\r\n          if(opsA){\r\n            //opss = ops;\r\n            opsA.forEach((o, index) => {\r\n              if(!o.doc.data.op/* || o.data.op !== ''*/){\r\n                ops.push(o)\r\n              }\r\n          });\r\n\r\n          unions.forEach((union, i) => {\r\n            ops.forEach((op, i) => {\r\n              if(union.doc.data.num_aggrement === op.doc.data.union){\r\n                op.doc.data.code_union = union.doc.data.code_union;\r\n                this.database.updateDoc(op.doc);\r\n              }\r\n            })\r\n          });\r\n          loading.dismissAll();\r\n          this.affichierMsg('Ops mis à jour')\r\n\r\n        }\r\n      });\r\n      }\r\n    });\r\n    \r\n\r\n  }\r\n\r\n  mise_a_jour_mbr(){\r\n\r\n    let loading = this.loadtingCtl.create({\r\n      content: 'Application des changements sur les membres en cours...'\r\n    });\r\n    loading.present();\r\n    this.database.getPlageDocsRapide('fuma:op:membre', 'fuma:op:membre:\\uffff').then((membres) => {\r\n      if(membres){\r\n        let ops: any = [];\r\n       this.database.getPlageDocsRapide('fuma:op','fuma:op:\\uffff').then((opsA) => {\r\n        if(opsA){\r\n          //opss = ops;\r\n          opsA.forEach((o, index) => {\r\n            if(!o.doc.data.op/* || o.data.op !== ''*/){\r\n              ops.push(o)\r\n            }\r\n         });\r\n\r\n          let mbrs: any = [];\r\n          let m: any = {};\r\n          mbrs = membres;\r\n          //ops.forEach((op) =>  {\r\n           // if(op.doc.data.type === 'op'){\r\n              \r\n             membres.forEach((membre, i) => {\r\n\r\n              if(membre.doc.data.op_code && membre.doc.data.op_code !== ''){\r\n                m._id = 'fuma:op:membre:' + membre.doc.data.op_code + ':' + membre.doc.data.matricule_Membre;\r\n                m.data = membre.doc.data;\r\n                this.database.deleteDoc(membre.doc);\r\n                this.database.updateDocReturn(m).then((res) => {\r\n                  //this.database.deleteDoc(membre.doc);\r\n                  //this.database.deleteDoc(membre.doc);\r\n                }, err => {\r\n                  //this.database.deleteDoc(membre.doc);\r\n                  \r\n                });\r\n\r\n                //membres.splice(i, 1);\r\n                m = {};\r\n              }else{\r\n                for(let j=0; j < ops.length; j++){\r\n                  if(membre.doc.data.op === ops[j].doc.data.num_aggrement){\r\n                    membre.doc.data.op_code = ops[j].doc.data.code_OP;\r\n\r\n                    m._id = 'fuma:op:membre:' + membre.doc.data.op_code + ':' + membre.doc.data.matricule_Membre;\r\n                    m.data = membre.doc.data;\r\n                    this.database.deleteDoc(membre.doc);\r\n                    this.database.updateDocReturn(m).then((res) => {\r\n                      //this.database.deleteDoc(membre.doc);\r\n                      //this.database.deleteDoc(membre.doc);\r\n                    }, err => {\r\n                      //this.database.deleteDoc(membre.doc);\r\n                      \r\n                    });\r\n\r\n                    //membres.splice(i, 1);\r\n                    m = {};\r\n                    break;\r\n                    \r\n                  }\r\n                }\r\n              }\r\n              /* for(let i = 0; i < ops.length; i++){\r\n                  if(membre.doc.data.op === ops[i].doc.data.num_aggrement){\r\n                    m._id = 'fuma:op:membre:' + ops[i].doc.data.code_OP + ':' + membre.doc.data.matricule_Membre;\r\n                    m.data = membre.doc.data;\r\n                    this.database.createDocReturn(m).then((res) => {\r\n                      //this.database.deleteDoc(membre.doc);\r\n                      //this.database.deleteDoc(membre.doc);\r\n                    }, err => {\r\n                      //this.database.deleteDoc(membre.doc);\r\n                      \r\n                    });\r\n\r\n                    this.database.deleteDoc(membre.doc);\r\n\r\n                    //membres.splice(i, 1);\r\n                    m = {};\r\n\r\n                    break;\r\n\r\n                    /*this.database.createDocReturn(m).then((res) => {\r\n                      this.database.remove(membre.doc._id);\r\n\r\n                      //alert(membre.doc.data.op +' === '+op.doc.data.num_aggrement +' ===> '+membre.doc._id+'  => ' +res.id)\r\n                      //mbrs.splice(i, 1);\r\n                    // m = {};\r\n                    });*/\r\n                  //}\r\n\r\n               //}\r\n\r\n            });\r\n\r\n            //membres = mbrs;\r\n            }\r\n          });\r\n\r\n          loading.dismissAll();\r\n          this.affichierMsg('Membres mis à jour')\r\n        //}\r\n       // });\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  affichierMsg(msg = 'Enregistrement mis à jour'){\r\n    let toast = this.toastCtl.create({\r\n      message: msg,\r\n      position: 'top',\r\n      duration: 2000,\r\n      showCloseButton: true,\r\n      closeButtonText: 'ok',\r\n      dismissOnPageChange: true\r\n    });\r\n\r\n    toast.present();\r\n  }\r\n\r\n  connexion(){\r\n    this.navCtrl.push('LoginPage');\r\n  }\r\n\r\n  register(){\r\n    this.navCtrl.push('RegisterPage');\r\n  }\r\n\r\n  profile(){\r\n    this.database.remoteSaved.getSession((err, response) => {\r\n      if (err) {\r\n        // network error\r\n        alert('Erreur du réseau');\r\n        \r\n      } else if (!response.userCtx.name) {\r\n        // nobody's logged in\r\n        alert('Personne n\\'est connecté');\r\n        \r\n      } else {\r\n        this.navCtrl.push('ProfileUserPage');\r\n      }\r\n    });\r\n    \r\n  }\r\n\r\n  deconnexion(){\r\n    this.database.logout()\r\n  }\r\n\r\n  confLocaliteEnquetee(){\r\n    this.navCtrl.push('ConfLocaliteEnquetePage');\r\n  }\r\n\r\n  changeLangue(){\r\n    this.navCtrl.push('LanguePage');\r\n  }\r\n\r\n  gestionTypeSole(){\r\n    this.navCtrl.push('TypeSolePage');\r\n  }\r\n\r\n  gestionChamps(){\r\n    this.navCtrl.push('ChampsPage');\r\n  }\r\n\r\n  gestionEssai(){\r\n    this.navCtrl.push('EssaiPage');\r\n  }\r\n\r\n  gestionTraitement(){\r\n    this.navCtrl.push('TraitementPage');\r\n  }\r\n\r\n  calculNbOPUnion(){\r\n\r\n    //on recupere toutes les unions\r\n    //this.affichierMsg('Calcul du nombre d\\'OPs par union encours...');\r\n     let toast = this.toastCtl.create({\r\n      message: 'Calcul du nombre d\\'OPs par union encours...',\r\n      position: 'top',\r\n      duration: 2000,\r\n      showCloseButton: true,\r\n      closeButtonText: 'ok',\r\n      dismissOnPageChange: true\r\n    });\r\n\r\n    toast.present();\r\n      //Pour chaque union\r\n      this.unions.forEach((union, indexU) => {\r\n        //reinitialiser le nombre d'OP de l'union\r\n        union.data.num_OP = 0;\r\n        //parcourir les op a la recherche des ops qui appartiennent a l'union\r\n        this.ops.forEach((op, indexO) => {\r\n          //compter les OP\r\n          if(union.data.num_aggrement === op.data.union){\r\n            union.data.num_OP++\r\n          }\r\n\r\n        });\r\n\r\n        //mettre a jour l'union\r\n        this.database.updateDoc(union);\r\n      });\r\n      //this.affichierMsg('Calcul du nombre d\\'OPs par union terminé avec succes!');\r\n      \r\n      //toast.dismiss();\r\n      let toast1 = this.toastCtl.create({\r\n        message: 'Calcul du nombre d\\'OPs par union terminé avec succes!',\r\n        position: 'top',\r\n        duration: 2000,\r\n        showCloseButton: true,\r\n        closeButtonText: 'ok',\r\n        dismissOnPageChange: true\r\n      });\r\n    toast1.present();\r\n  }\r\n\r\n  calculNbMembreOP(){\r\n    //this.affichierMsg('Calcul du nombre de membre par OPs et par union encours...');   \r\n     let toast = this.toastCtl.create({\r\n      message: 'Calcul du nombre de membre par OPs et par union encours...',\r\n      position: 'top',\r\n      duration: 2000,\r\n      showCloseButton: true,\r\n      closeButtonText: 'ok',\r\n      dismissOnPageChange: true\r\n    });\r\n\r\n    toast.present();               \r\n    //on parcour les uion\r\n    this.unions.forEach((union, indexU) =>{\r\n\r\n        union.data.num_membre = 0;\r\n        union.data.num_hommes = 0;\r\n        union.data.num_femmes = 0;\r\n        //parcourir toutes les OPs\r\n        this.ops.forEach((op, indexO) => {\r\n\r\n          //prendre uniquement les ops de l'union\r\n          if(union.data.num_aggrement === op.data.union){\r\n            //reinitialiser les champs a calculer\r\n            op.data.num_membre = 0;\r\n            op.data.num_hommes = 0;\r\n            op.data.num_femmes = 0;\r\n\r\n            //parcourir tous les membres a la recherche des membres qui appartennenent à l'OP\r\n            this.membres.forEach((membre, indexM) => {\r\n              //si le membre appartient a l'OP\r\n              if(membre.data.op === op.data.num_aggrement){\r\n                op.data.num_membre++;\r\n                if(membre.data.genre === 'male'){\r\n                  op.data.num_hommes++;\r\n                }else{\r\n                  op.data.num_femmes++;\r\n                }\r\n              }\r\n            });\r\n            //fin membre\r\n            \r\n            //calculer les champs de l'union\r\n            union.data.num_membre += op.data.num_membre;\r\n            union.data.num_hommes += op.data.num_hommes;\r\n            union.data.num_femmes += op.data.num_femmes;\r\n\r\n              //mettre a jour m'OP\r\n            this.database.updateDoc(op);\r\n          }\r\n\r\n        });\r\n        //fin op\r\n\r\n        //mettre ajour l'union\r\n        this.database.updateDoc(union);\r\n      \r\n    });\r\n    //fin union\r\n    //this.affichierMsg('Calcul du nombre de membre apr OPs et par union terminé avec succes!');\r\n    //toast.dismiss()\r\n    let toast1 = this.toastCtl.create({\r\n      message: 'Calcul du nombre de membre apr OPs et par union terminé avec succes!',\r\n      position: 'top',\r\n      duration: 2000,\r\n      showCloseButton: true,\r\n      closeButtonText: 'ok',\r\n      dismissOnPageChange: true\r\n    });\r\n    toast1.present();\r\n  }\r\n\r\n  \r\n  gestionOP(){\r\n    this.navCtrl.push('OpPage');\r\n  }\r\n\r\n  gestionMembre(){\r\n    this.navCtrl.push('MembresPage');\r\n  }\r\n\r\n  gestionUnion(){\r\n    this.navCtrl.push('UnionsPage');\r\n  }\r\n\r\n   getProfiles() {\r\n    this.database.getAll(\r\n      {\r\n        startkey: 'koboSubmission_fuma-op-membre',\r\n        endkey: 'koboSubmission_fuma-op-membre\\uffff',\r\n        include_docs: true\r\n      },\r\n    ).then(\r\n      res => {\r\n        this.profiles = res.rows\r\n        this.pendingProfiles = this.profiles.filter(function (profile) {\r\n          return !profile.doc.fumaID\r\n        })\r\n      }\r\n      )\r\n  }\r\n\r\n  \r\n  //assign semi-random id, check unique, add photo(?)\r\n  approveProfiles(){\r\n    var docs=this.pendingProfiles.map(function(profile){\r\n      //console.log(profile)\r\n      profile.doc.fumaID=this.generateId(profile.doc.data)\r\n      return profile.doc\r\n    }.bind(this))\r\n    console.log('approved profiles',docs)\r\n    this.database.bulkDocs(docs).then(function(){\r\n      this.getProfiles();\r\n    }.bind(this))\r\n  }\r\n  generateId(data){\r\n    var country = data.pays||'XX'\r\n    var region=data.region||'XX'\r\n    var department = data.departement || 'XX'\r\n    //var commune = data.commune || 'XX'\r\n    //select 3 random numbers and random letter for up to 25,000 unique per department\r\n    var chars='ABCDEFGHIJKLMNPQRSTUVWYZ'\r\n    var numbers='0123456789'\r\n    var randomArray=[]\r\n    for(let i=0;i<3;i++){\r\n      var rand = Math.floor(Math.random()*10)\r\n      randomArray.push(numbers[rand])\r\n    }\r\n    randomArray.push('-')\r\n    var rand = Math.floor(Math.random()*24)\r\n    randomArray.push(chars[rand])\r\n    var randomString=randomArray.join(\"\");\r\n    var fumaId=country+'-'+region+' '+department+'-'+randomString \r\n    return fumaId\r\n  }\r\n\r\n\r\n    infoDB(){\r\n      this.storage.get('info_db').then((info_db) => {\r\n      if(!info_db){\r\n        //this.storage.set('ip_serveur', '127.0.0.1');\r\n        info_db = global.info_db\r\n      }//else{\r\n        let alert = this.alertCtl.create({\r\n        title: 'Information de connexion au du serveur',\r\n        //cssClass: 'error',\r\n        inputs: [\r\n          {\r\n            type: 'text',\r\n            placeholder: 'Adrèsse hôte',\r\n            name: 'ip',\r\n            value: info_db.ip\r\n          },\r\n          {\r\n            type: 'text',\r\n            placeholder: 'Nom DB',\r\n            name: 'nom_db',\r\n            value: info_db.nom_db\r\n          }\r\n        ],\r\n        buttons: [\r\n          {\r\n            //cssClass: 'error-border',\r\n            text: 'Annuler',\r\n            role: 'Cancel',\r\n            handler: () => console.log('Changement ip serveur annuler')\r\n          },\r\n          {\r\n            text: 'Valider',\r\n            handler: (data) => {\r\n              let i_db = {\r\n                ip: data.ip.toString(),\r\n                nom_db: data.nom_db.toString()\r\n              }\r\n              this.storage.set('info_db', i_db);\r\n              global.info_db = i_db;\r\n              //global.ip_serveur = data.ip_serveur;\r\n              this.database.syncIinfoDB(data.ip.toString(), data.nom_db.toString());\r\n              \r\n              let toast = this.toastCtl.create({\r\n                message: 'Info DB mises à jour avec succes...',\r\n                duration: 2000,\r\n                position: 'top',\r\n                showCloseButton: true,\r\n                closeButtonText: 'ok',\r\n                dismissOnPageChange: true\r\n              });\r\n              toast.present();\r\n              \r\n            }\r\n          }\r\n        ]\r\n      }); \r\n\r\n      alert.present();\r\n //       }\r\n      });\r\n  }\r\n\r\n  reset(){\r\n    let alert = this.alertCtl.create({\r\n      title: 'Réinitialiser la base de données',\r\n      message: 'Etes vous sûr de vouloir réinitialiser la base de données ?',\r\n      buttons:[\r\n        {\r\n          text: 'Annuler',\r\n          handler: () => console.log('suppression annulée')\r\n \r\n        },\r\n        {\r\n          text: 'Confirmer',\r\n          handler: () => {\r\n            this.database.reset();\r\n            /*let toast = this.toastCtl.create({\r\n              message:'Base de données bien réinitialiser',\r\n              position: 'top',\r\n              duration: 1000\r\n            });\r\n\r\n            toast.present();\r\n            this.navCtrl.setRoot('HomePage');*/\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    alert.present();\r\n  }\r\n\r\n    \r\n  //}\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/admin/admin.ts","import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AdminPage } from './admin';\r\n//import { TranslationModule } from '../../../translation/translate.module'\r\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  declarations: [AdminPage],\r\n  imports: [TranslateModule, IonicPageModule.forChild(AdminPage)],\r\n  exports: [AdminPage]\r\n})\r\nexport class AdminPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/admin/admin.module.ts"],"sourceRoot":""}