{"version":3,"sources":["../../src/pages/variete/variete.module.ts","../../src/pages/variete/variete.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACR;AAOxC,IAAa,iBAAiB;IAA9B;IAAiC,CAAC;IAAD,wBAAC;AAAD,CAAC;AAArB,iBAAiB;IAL7B,uEAAQ,CAAC;QACR,YAAY,EAAE,CAAC,6DAAW,CAAC;QAC3B,OAAO,EAAE,CAAC,sEAAe,CAAC,QAAQ,CAAC,6DAAW,CAAC,CAAC;QAChD,OAAO,EAAE,CAAC,6DAAW,CAAC;KACvB,CAAC;GACW,iBAAiB,CAAI;AAAJ;;;;;;;;;;;;;;;;;;;;;;;ACTY;AAC4D;AACnC;AACnE,yEAAyE;AACzE,sEAAsE;AAC7B;AAEzC;;;;;EAKE;AAMF,IAAa,WAAW;IAQtB,qBAAmB,OAAsB,EAAS,QAAyB,EAAS,SAAoB,EAAS,OAAgB,EAAS,cAA+B,EAAS,QAAyB;QAAxL,YAAO,GAAP,OAAO,CAAe;QAAS,aAAQ,GAAR,QAAQ,CAAiB;QAAS,cAAS,GAAT,SAAS,CAAW;QAAS,YAAO,GAAP,OAAO,CAAS;QAAS,mBAAc,GAAd,cAAc,CAAiB;QAAS,aAAQ,GAAR,QAAQ,CAAiB;QAN3M,aAAQ,GAAQ,EAAE,CAAC;QACnB,eAAU,GAAQ,EAAE,CAAC;QACrB,aAAQ,GAAQ,EAAE,CAAC;QAEnB,SAAI,GAAQ,EAAC,MAAM,EAAC,EAAC,KAAK,EAAE,MAAM,EAAC,EAAC;IAE0K,CAAC;IAE/M,qCAAe,GAAf;QAAA,iBAeD;QAbG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,cAAc,EAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;YAC1E,EAAE,EAAC,CAAC,CAAC,EAAC;gBACJ,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,KAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAI,CAAC,IAAI,CAAC;YAC/B,CAAC;QACH,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,cAAc,EAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,UAAC,CAAC;YAC9E,EAAE,EAAC,CAAC,CAAC,EAAC;gBACJ,KAAI,CAAC,QAAQ,GAAG,CAAC,CAAC;gBAClB,KAAI,CAAC,UAAU,GAAG,CAAC,CAAC;YACtB,CAAC;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEC,kCAAY,GAAZ;QAAA,iBAaC;QAZC,EAAE,EAAC,IAAI,CAAC,eAAe,KAAK,MAAM,CAAC,EAAC;YAClC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU;QACjC,CAAC;QAAA,IAAI,EAAC;YACJ,IAAI,GAAC,GAAG,EAAE,CAAC;YACX,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAC,EAAE,EAAE,CAAC;gBAC5B,EAAE,EAAC,EAAE,CAAC,IAAI,CAAC,OAAO,KAAK,KAAI,CAAC,eAAe,CAAC,EAAC;oBAC3C,GAAC,CAAC,IAAI,CAAC,EAAE,CAAC;gBACZ,CAAC;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,QAAQ,GAAG,GAAC,CAAC;QACpB,CAAC;IACH,CAAC;IAED,6BAAO,GAAP;QACG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC;IAC3C,CAAC;IAED,4BAAM,GAAN,UAAO,OAAO;QACZ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,mBAAmB,EAAE,EAAC,SAAS,EAAE,OAAO,EAAC,CAAC,CAAC;IAC/D,CAAC;IAED,8BAAQ,GAAR,UAAS,EAAO;QACd,uCAAuC;QACvC,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC;QAEhC,wCAAwC;QACxC,IAAI,GAAG,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,CAAC;QAE1B,yDAAyD;QACzD,EAAE,CAAC,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,UAAC,IAAI;gBACxC,MAAM,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;YACvE,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAEH,kBAAC;AAAD,CAAC;AAjEY,WAAW;IALvB,wEAAS,EAAE;IACX,wEAAS,CAAC;QACT,QAAQ,EAAE,cAAc;OACG;KAC5B,CAAC;gBAS2M;AAyD5M;SAjEY,WAAW,e","file":"9.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { VarietePage } from './variete';\r\n\r\n@NgModule({\r\n  declarations: [VarietePage],\r\n  imports: [IonicPageModule.forChild(VarietePage)],\r\n  exports: [VarietePage]\r\n})\r\nexport class VarietePageModule { }\r\n \n\n\n// WEBPACK FOOTER //\n// ./src/pages/variete/variete.module.ts","import { Component } from '@angular/core';\nimport { NavController, NavParams, AlertController, ToastController, IonicPage } from 'ionic-angular';\nimport { PouchdbProvider } from '../../providers/pouchdb-provider';\n//import { AjouterVarietePage } from './ajouter-variete/ajouter-variete';\n//import { DetailVarietePage } from './detail-variete/detail-variete';\nimport { Storage } from '@ionic/storage';\n\n/*\n  Generated class for the Variete page.\n\n  See http://ionicframework.com/docs/v2/components/#navigation for more info on\n  Ionic pages and navigation.\n*/\n@IonicPage()\n@Component({\n  selector: 'page-variete',\n  templateUrl: 'variete.html'\n}) \nexport class VarietePage {\n\n  cultures: any = [];\n  allVariete: any = [];\n  varietes: any = [];\n  selectedCulture: any;\n  tous: any = {'data':{'nom': 'Tous'}}\n\n  constructor(public navCtrl: NavController, public toastCtl: ToastController, public navParams: NavParams, public storage: Storage, public servicePouchdb: PouchdbProvider, public alertCtl: AlertController) {}\n\n  ionViewDidEnter() {\n\n    this.servicePouchdb.getPlageDocs('fuma:culture','fuma:culture:\\uffff').then((c) => {\n        if(c){\n          this.cultures = c;\n          this.cultures.push(this.tous)\n        }\n      });\n\n    this.servicePouchdb.getPlageDocs('fuma:variete','fuma:variete:\\uffff').then((v) => {\n    if(v){\n      this.varietes = v;\n      this.allVariete = v;\n    }\n  });\n}\n\n  choixCulture(){\n    if(this.selectedCulture === 'Tous'){\n      this.varietes = this.allVariete\n    }else{\n      let v = [];\n      this.allVariete.forEach((vr, i) => {\n        if(vr.data.culture === this.selectedCulture){\n          v.push(vr)\n        }\n      });\n\n      this.varietes = v;\n    }\n  }\n\n  ajouter(){\n     this.navCtrl.push('AjouterVarietePage');\n  }\n\n  detail(variete){\n    this.navCtrl.push('DetailVarietePage', {'variete': variete});\n  }\n\n  getItems(ev: any) {\n    // Reset items back to all of the items\n    this.varietes = this.allVariete;\n\n    // set val to the value of the searchbar\n    let val = ev.target.value;\n\n    // if the value is an empty string don't filter the items\n    if (val && val.trim() != '') {\n      this.varietes = this.varietes.filter((item) => {\n        return (item.data.nom.toLowerCase().indexOf(val.toLowerCase()) > -1);\n      });\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/variete/variete.ts"],"sourceRoot":""}